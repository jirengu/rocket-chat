{"version":3,"sources":["meteor://ðŸ’»app/packages/rocketchat:channel-settings/server/functions/saveReactWhenReadOnly.js","meteor://ðŸ’»app/packages/rocketchat:channel-settings/server/startup.js"],"names":["RocketChat","saveReactWhenReadOnly","rid","allowReact","Match","test","String","Meteor","Error","models","Rooms","setAllowReactingWhenReadOnlyById","startup","Permissions","upsert","$set","roles"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,WAAWC,qBAAX,GAAmC,UAASC,GAAT,EAAcC,UAAd,EAA0B;AAC5D,KAAI,CAACC,MAAMC,IAAN,CAAWH,GAAX,EAAgBI,MAAhB,CAAL,EAA8B;AAC7B,QAAM,IAAIC,OAAOC,KAAX,CAAiB,cAAjB,EAAiC,cAAjC,EAAiD;AAAE,eAAU;AAAZ,GAAjD,CAAN;AACA;;AAED,QAAOR,WAAWS,MAAX,CAAkBC,KAAlB,CAAwBC,gCAAxB,CAAyDT,GAAzD,EAA8DC,UAA9D,CAAP;AACA,CAND,0H;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAAI,OAAOK,OAAP,CAAe,YAAW;AACzBZ,YAAWS,MAAX,CAAkBI,WAAlB,CAA8BC,MAA9B,CAAqC,eAArC,EAAsD;AAACC,QAAM;AAAEC,UAAO,CAAC,OAAD,EAAU,OAAV,EAAmB,WAAnB;AAAT;AAAP,EAAtD;AACAhB,YAAWS,MAAX,CAAkBI,WAAlB,CAA8BC,MAA9B,CAAqC,cAArC,EAAqD;AAACC,QAAM;AAAEC,UAAO,CAAC,OAAD,EAAU,OAAV;AAAT;AAAP,EAArD;AACAhB,YAAWS,MAAX,CAAkBI,WAAlB,CAA8BC,MAA9B,CAAqC,yBAArC,EAAgE;AAACC,QAAM;AAAEC,UAAO,CAAC,OAAD,EAAU,OAAV;AAAT;AAAP,EAAhE;AACA,CAJD,0H","file":"/packages/rocketchat_channel-settings.js","sourcesContent":["RocketChat.saveReactWhenReadOnly = function(rid, allowReact) {\n\tif (!Match.test(rid, String)) {\n\t\tthrow new Meteor.Error('invalid-room', 'Invalid room', { function: 'RocketChat.saveReactWhenReadOnly' });\n\t}\n\n\treturn RocketChat.models.Rooms.setAllowReactingWhenReadOnlyById(rid, allowReact);\n};\n","Meteor.startup(function() {\n\tRocketChat.models.Permissions.upsert('post-readonly', {$set: { roles: ['admin', 'owner', 'moderator'] } });\n\tRocketChat.models.Permissions.upsert('set-readonly', {$set: { roles: ['admin', 'owner'] } });\n\tRocketChat.models.Permissions.upsert('set-react-when-readonly', {$set: { roles: ['admin', 'owner'] }});\n});\n"]}